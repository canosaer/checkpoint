let beginBUTTON=document.querySelector(".begin"),introSECTION=document.querySelector(".intro"),topRowSECTION=document.querySelector(".top-row"),referenceSECTION=document.querySelector(".reference"),timerDIV=document.querySelector(".timer"),entrantFIGURE=document.querySelector(".booth__entrant"),photoFIGURE=document.querySelector(".passport__photo"),passportCountryP=document.querySelector(".passport__country"),nameP=document.querySelector(".passport__name"),dobP=document.querySelector(".passport__dob"),sexP=document.querySelector(".passport__sex"),issP=document.querySelector(".passport__iss"),expP=document.querySelector(".passport__exp"),passportNoP=document.querySelector(".passport__number"),passportDIV=document.querySelector(".booth__passport"),passportSECTION=document.querySelector(".passport"),passportStyles=window.getComputedStyle(passportSECTION),crossDIV=document.querySelector(".stamps__cross"),checkDIV=document.querySelector(".stamps__check"),citiesH1=document.querySelector(".cities__heading"),bookDIVS=document.querySelectorAll(".cities__book"),bookStyles=window.getComputedStyle(bookDIVS[0]),citiesSPAN=document.querySelector(".cities__expand"),obristanBookFIGURE=document.querySelector(".cities__book_obristan"),kolechiaBookFIGURE=document.querySelector(".cities__book_kolechia"),antegriaBookFIGURE=document.querySelector(".cities__book_antegria"),journalDIV=document.querySelector(".cities__display"),journalCountryH2=document.querySelector(".cities__country"),journalEntryLIS=document.querySelectorAll(".cities__entry"),denyStampDIV=document.querySelector(".passport__deny-stamp"),approveStampDIV=document.querySelector(".passport__approve-stamp"),resolutionSECTION=document.querySelector(".resolution"),resolutionP=document.querySelector(".resolution__text"),resetDIV=document.querySelector(".booth__reset"),numberDeniedP=document.querySelector(".aggregate__number-denied"),numberApprovedP=document.querySelector(".aggregate__number-approved"),approvedBarDIV=document.querySelector(".aggregate__approved-bar"),dialogueP=document.querySelector(".booth__dialogue"),proceedBUTTON=document.querySelector(".proceed");var decision="none",level=1,approved=0,denied=0,autoDenyLevel=0,timerRunning=!1;let displayCount=function(e){timerDIV.textContent=e},autoDeny=function(){decision="deny",dialogueP.textContent="",denyEntrant()},startTimer=function(){autoDenyLevel=level,timerDIV.textContent="60",timerRunning||(i=59),timerRunning&&(i=60),timerDIV.style.display="block",timerRunning||(timerRunning=!0,setInterval((function(){"none"===decision&&0===i&&autoDenyLevel===level?(i=-1,autoDeny()):"none"===decision&&(timerDIV.textContent=i.toString(),i--)}),1e3))},updatePhoto=function(e){photoFIGURE.style.background=e,photoFIGURE.style.backgroundColor="#a29490",photoFIGURE.style.backgroundSize="cover",photoFIGURE.style.backgroundPosition="center"},displayLevel=function(){startTimer(),1===level?(proceedBUTTON.textContent="Next Entrant",entrantFIGURE.style.background="url(dist/img/entrants/fur_hat.png)",dialogueP.textContent='"I\'m returning from official business abroad."',updatePhoto("url(dist/img/photos/big_forehead_photo.png)"),passportCountryP.textContent="Obristan",nameP.textContent="Ludum, Dari",dobP.textContent="10.08.1946",sexP.textContent="M",issP.textContent="Lorndaz",expP.textContent="25.11.1982",passportNoP.textContent="Q1E1P-PMGVA"):2===level?(entrantFIGURE.style.background="url(dist/img/entrants/green_shirt.png)",entrantFIGURE.style.height="190px",entrantFIGURE.style.marginTop="25px",dialogueP.textContent='"I heard there\'s a cool party in Lorndaz tonight."',updatePhoto("url(dist/img/photos/brunette_lady_photo.png)"),passportCountryP.textContent="Antegria",nameP.textContent="Escalli, Marie",dobP.textContent="12.12.1953",sexP.textContent="F",issP.textContent="Marmero",expP.textContent="20.05.1990",passportNoP.textContent="Z3F1O-ESTWQ"):3===level?(entrantFIGURE.style.background="url(dist/img/entrants/grumpy_lady.png)",entrantFIGURE.style.height="190px",entrantFIGURE.style.marginTop="25px",dialogueP.textContent='"I am returning from a funeral in Kolechia."',updatePhoto("url(dist/img/photos/grumpy_lady_photo.png)"),passportCountryP.textContent="Obristan",nameP.textContent="Katsenja, Elisa",dobP.textContent="22.01.1930",sexP.textContent="F",issP.textContent="Mergerous",expP.textContent="01.10.1985",passportNoP.textContent="J6L6N-WGAZL"):4===level?(entrantFIGURE.style.background="url(dist/img/entrants/moustaced_immigrant.png)",entrantFIGURE.style.height="190px",entrantFIGURE.style.marginTop="25px",dialogueP.textContent='"I\'m here for work."',updatePhoto("url(dist/img/photos/vengeful_father_photo.png)"),passportCountryP.textContent="Kolechia",nameP.textContent="Kallo, Kordon",dobP.textContent="19.06.1952",sexP.textContent="M",issP.textContent="Altan",expP.textContent="14.02.1987",passportNoP.textContent="1A2B3-ZYXWV"):5===level?(entrantFIGURE.style.background="url(dist/img/entrants/sad_lady.png)",entrantFIGURE.style.height="190px",entrantFIGURE.style.marginTop="25px",dialogueP.textContent='"I have urgent business in Mergerous."',updatePhoto("url(dist/img/photos/sad_lady_photo.png)"),passportCountryP.textContent="Antegria",nameP.textContent="Piersovska, Shae",dobP.textContent="18.12.1951",sexP.textContent="F",issP.textContent="Glorian",expP.textContent="12.11.1982",passportNoP.textContent="B2X5H-YPEQI"):6===level&&(entrantFIGURE.style.background="url(dist/img/entrants/village_woman.png)",entrantFIGURE.style.height="190px",entrantFIGURE.style.marginTop="25px",dialogueP.textContent='"I am returning to my village."',updatePhoto("url(dist/img/photos/village_woman_photo.png)"),passportCountryP.textContent="Obristan",nameP.textContent="Graire, Stepheni",dobP.textContent="16.02.1944",sexP.textContent="F",issP.textContent="Fardesto",expP.textContent="09.03.1988",passportNoP.textContent="V7L2U-DWAPS")},resolveLevel=function(){1===level?("deny"===decision?resolutionP.textContent='"You obviously need to have your eyes checked. You\'ll hear from my superiors about this." The man leaves in a huff with a threatening glare.':"approve"===decision&&(resolutionP.textContent='"Thank you." The man proceeds beyond the checkpoint with an authoritative air about him.'),decision="none",axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-1-denied").then((function(e){denied=e.data.data.value,numberDeniedP.textContent=denied,axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-1-approved").then((function(e){approved=e.data.data.value,numberApprovedP.textContent=approved,totalResponses=approved+denied;let t=approved/totalResponses*100;approvedBarDIV.style.width=t+"%"}))}))):2===level?("deny"===decision?resolutionP.textContent='"Dude, not cool." The man staggers out of the booth.':"approve"===decision&&(resolutionP.textContent='"Thanks bro!" The man gives you a sly wink and stumbles from the booth past the checkpoint.'),decision="none",axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-2-denied").then((function(e){denied=e.data.data.value,numberDeniedP.textContent=denied,axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-2-approved").then((function(e){approved=e.data.data.value,numberApprovedP.textContent=approved,totalResponses=approved+denied;let t=approved/totalResponses*100;approvedBarDIV.style.width=t+"%"}))}))):3===level?("deny"===decision?resolutionP.textContent='"You are a terrible person." The woman leaves the booth with a look of confusion and anger.':"approve"===decision&&(resolutionP.textContent='"Thank you, dear." The woman leaves the booth with a long face and proceeds past the checkpoint.'),decision="none",axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-3-denied").then((function(e){denied=e.data.data.value,numberDeniedP.textContent=denied,axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-3-approved").then((function(e){approved=e.data.data.value,numberApprovedP.textContent=approved,totalResponses=approved+denied;let t=approved/totalResponses*100;approvedBarDIV.style.width=t+"%"}))}))):4===level?("deny"===decision?resolutionP.textContent="The man grumbles something about being ripped off and leaves the booth.":"approve"===decision&&(resolutionP.textContent='"Excellent! Thank you very much." The man leaves and goes beyond the checkpoint with a smile on his face.'),decision="none",axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-4-denied").then((function(e){denied=e.data.data.value,numberDeniedP.textContent=denied,axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-4-approved").then((function(e){approved=e.data.data.value,numberApprovedP.textContent=approved,totalResponses=approved+denied;let t=approved/totalResponses*100;approvedBarDIV.style.width=t+"%"}))}))):5===level?("deny"===decision?resolutionP.textContent='"Sorry, my mistake." The woman leaves the booth with an embarassed look.':"approve"===decision&&(resolutionP.textContent='"Have a nice day." The woman solemnly proceeds past the checkpoint.'),decision="none",axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-5-denied").then((function(e){denied=e.data.data.value,numberDeniedP.textContent=denied,axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-5-approved").then((function(e){approved=e.data.data.value,numberApprovedP.textContent=approved,totalResponses=approved+denied;let t=approved/totalResponses*100;approvedBarDIV.style.width=t+"%"}))}))):6===level&&("deny"===decision?resolutionP.textContent="The woman moves to detonate a bomb cleverly concealed beneath her clothes, but is tackled by security and dragged away.":"approve"===decision&&(resolutionP.textContent='"Glory to Obristan." The woman leaves the booth and cautiously makes her way through the checkpoint.'),decision="none",axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-6-denied").then((function(e){denied=e.data.data.value,numberDeniedP.textContent=denied,axios.get("http://circuslabs.net:3000/data/canosa-checkpoint-6-approved").then((function(e){approved=e.data.data.value,numberApprovedP.textContent=approved,totalResponses=approved+denied;let t=approved/totalResponses*100;approvedBarDIV.style.width=t+"%"}))})),proceedBUTTON.textContent="Play Again",level=0),level++},denyEntrant=function(){autoDenyLevel++,decision="deny",axios.post(`http://circuslabs.net:3000/data/canosa-checkpoint-${level}-denied`,{type:"number",action:"++"}),timerDIV.style.display="none",denyStampDIV.style.display="block",crossDIV.style.display="none",checkDIV.style.display="none",dialogueP.textContent="",setTimeout((function(){passportSECTION.style.display="none",denyStampDIV.style.display="none",resolutionSECTION.style.display="flex",resolveLevel()}),1e3)};passportDIV.addEventListener("click",(function(){"0"===passportStyles.getPropertyValue("opacity")?(passportSECTION.style.opacity="1",crossDIV.style.display="block",checkDIV.style.display="block"):(passportSECTION.style.opacity="0",crossDIV.style.display="none",checkDIV.style.display="none")})),beginBUTTON.addEventListener("click",(function(){introSECTION.style.display="none",topRowSECTION.style.display="flex",referenceSECTION.style.display="flex",displayLevel()})),citiesH1.addEventListener("click",(function(){if("none"===bookStyles.getPropertyValue("display")){citiesSPAN.textContent="<>";for(let e=0;e<bookDIVS.length;e++)bookDIVS[e].style.display="flex"}else{citiesSPAN.textContent="><";for(let e=0;e<bookDIVS.length;e++)bookDIVS[e].style.display="none";journalDIV.style.display="none"}})),obristanBookFIGURE.addEventListener("click",(function(){journalDIV.style.display="flex",journalCountryH2.textContent="Obristan",journalEntryLIS[0].textContent="• Skal",journalEntryLIS[1].textContent="• Lorndaz",journalEntryLIS[2].textContent="• Mergerous"})),kolechiaBookFIGURE.addEventListener("click",(function(){journalDIV.style.display="flex",journalCountryH2.textContent="Kolechia",journalEntryLIS[0].textContent="• Yurko City",journalEntryLIS[1].textContent="• Vedor",journalEntryLIS[2].textContent="• Grestin"})),antegriaBookFIGURE.addEventListener("click",(function(){journalDIV.style.display="flex",journalCountryH2.textContent="Antegria",journalEntryLIS[0].textContent="• Marmero",journalEntryLIS[1].textContent="• Glorian",journalEntryLIS[2].textContent="• Grouse"})),crossDIV.addEventListener("click",denyEntrant),checkDIV.addEventListener("click",(function(){autoDenyLevel++,decision="approve",axios.post(`http://circuslabs.net:3000/data/canosa-checkpoint-${level}-approved`,{type:"number",action:"++"}),timerDIV.style.display="none",approveStampDIV.style.display="block",crossDIV.style.display="none",checkDIV.style.display="none",dialogueP.textContent="",setTimeout((function(){passportSECTION.style.display="none",approveStampDIV.style.display="none",resolutionSECTION.style.display="flex",resolveLevel()}),1e3)})),proceedBUTTON.addEventListener("click",(function(){resolutionSECTION.style.display="none",passportSECTION.style.display="flex",passportSECTION.style.opacity="0",displayLevel()})),resetDIV.addEventListener("click",(function(){axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-1-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-1-denied",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-2-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-2-denied",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-3-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-3-denied",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-4-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-4-denied",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-5-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-5-denied",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-6-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-6-denied",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-7-approved",{type:"number",action:"=",value:0}),axios.post("http://circuslabs.net:3000/data/canosa-checkpoint-7-denied",{type:"number",action:"=",value:0})}));
//# sourceMappingURL=main.js.map